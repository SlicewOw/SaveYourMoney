{% extends 'base.html.twig' %}

{% block title %}Details of {{ account.getAccountName() }}{% endblock %}

{% block body %}

<div class="row">

    <div class="col-sm-6">
        <div class="card">
            <div class="card-header">
                <strong>Details of {{ account.getAccountName() }}</strong>
            </div>
            <div class="card-body">
                This is the detail page of <strong>{{ account.getAccountName() }}</strong> which has the ID {{ account.id }}!
            </div>
            <div class="card-footer">
                <a href="/account/transaction/{{ account.id }}" class="btn btn-primary btn-sm">Add transaction</a>
                <a href="#" class="btn btn-danger btn-sm" id="delete-button" data-id="{{ account.id }}">Delete account</a>
            </div>
        </div>
        <br />
        <a href="/accounts" class="btn btn-secondary">Back to the overview!</a>
    </div>

    <div class="col-sm-6">
        <div class="card">
            <div class="card-header">
                <strong>Transactions of {{ account.getAccountName() }}</strong>
            </div>
            <div class="table-responsive">
                <table class="table table-striped">

                    <thead>
                        <th>#</th>
                        <th>Amount</th>
                        <th>Date</th>
                    </thead>

                    <tbody>

                        {% if transactions|length < 1 %}
                        <tr>
                            <td colspan="3">No transaction yet..</td>
                        </tr>
                        {% else %}
                            {% for transaction in transactions %}
                            <tr>
                                <td>{{ transaction.getId() }}</td>
                                <td>{{ transaction.getAmountInEuro() }}</td>
                                <td>{{ transaction.getDateAsString() }}</td>
                            </tr>
                            {% endfor %}
                        {% endif %}

                    </tbody>

                </table>
            </div>
            <div class="card-footer">
                <a href="/transactions/{{ account.id }}" class="btn btn-primary btn-sm">Show transactions</a>
            </div>
        </div>
    </div>

</div>

{% endblock %}

{% block javascripts %}
    <script src="/js/account.js"></script>
{% endblock %}
